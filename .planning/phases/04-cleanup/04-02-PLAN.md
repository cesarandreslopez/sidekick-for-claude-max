---
phase: 04-cleanup
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
  - README-VSCODE.md
  - CONTRIBUTING.md
  - SECURITY.md
  - .github/workflows/ci.yml
  - .github/ISSUE_TEMPLATE/bug_report.md
  - .github/PULL_REQUEST_TEMPLATE.md
autonomous: true

must_haves:
  truths:
    - "README shows new setup flow without server step"
    - "README has no Python badge"
    - "CONTRIBUTING has no Python setup instructions"
    - "CI/CD only runs extension tests (no server-tests job)"
    - "Bug report template has no Python/server options"
  artifacts:
    - path: "README.md"
      provides: "Updated main documentation"
      not_contains: "sidekick-server"
      not_contains: "start-server.sh"
      not_contains: "Local Server"
    - path: ".github/workflows/ci.yml"
      provides: "CI pipeline without Python tests"
      not_contains: "server-tests"
      not_contains: "python-version"
      contains: "extension-tests"
  key_links:
    - from: ".github/workflows/ci.yml"
      to: "GitHub Actions"
      via: "GitHub reads workflow file"
      pattern: "jobs:"
---

<objective>
Update all documentation and CI/CD to reflect the pure TypeScript architecture.

Purpose: Users and contributors should see accurate setup instructions that don't mention the removed Python server. CI should only test the TypeScript extension.

Output: Documentation accurately reflects the SDK-based architecture; CI pipeline is simplified.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-cleanup/04-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update main documentation</name>
  <files>
    - README.md
    - README-VSCODE.md
    - CONTRIBUTING.md
    - SECURITY.md
  </files>
  <action>
Update documentation to remove all server references:

**README.md** - Major rewrite needed:
1. Remove Python badge (line 11): `<img src="https://img.shields.io/badge/python-3.10+-blue.svg" ...>`
2. Replace the "How It Works" section (lines 33-44) - remove architecture diagram showing server, replace with:
   ```markdown
   ## How It Works

   The extension uses the Anthropic SDK directly to call Claude. If you have a Claude Max subscription, it leverages the Claude Code CLI authentication - no API keys needed.

   - **Max subscription**: Uses `@anthropic-ai/claude-agent-sdk` via Claude Code CLI auth
   - **API key**: Uses `@anthropic-ai/sdk` with your Anthropic API key
   ```
3. Remove Components section (lines 46-49) that lists sidekick-server
4. Update Quick Start Setup section (lines 58-74):
   - Remove step 2 "Start the server" entirely
   - Renumber remaining steps
   - New flow: 1) Install CLI and auth, 2) Install extension, 3) Start coding

**README-VSCODE.md** - Update extension docs:
1. Remove any prerequisites mentioning server
2. Remove serverUrl from settings table
3. Remove server startup instructions
4. Update troubleshooting to remove server-related issues

**CONTRIBUTING.md** - Update contributor docs:
1. Remove "Python 3.10+" from Prerequisites (line 9)
2. Remove "Set up the server" section (lines 21-28)
3. Remove server test commands (lines 39-46, 73-80)
4. Remove "./start-server.sh --dev" (line 54)
5. Remove "Python (Server)" code style section (lines 61-64)
6. Update Project Structure to remove sidekick-server/ and start-server.sh (lines 124-141)

**SECURITY.md** - Update scope:
1. Remove "The FastAPI server (`sidekick-server/`)" from scope (line 48)
2. Remove "The startup scripts" from scope (line 49)
3. Update "Security Best Practices for Users" - remove server-specific items (lines 40-42)
4. Remove "Use virtual environments" item
  </action>
  <verify>
```bash
# No server references in main docs
grep -l "sidekick-server\|start-server\|python-3.10" README.md CONTRIBUTING.md && echo "FAIL: Server refs found" || echo "OK: No server refs"

# No serverUrl in extension docs
grep -q "serverUrl" README-VSCODE.md && echo "FAIL: serverUrl in README-VSCODE" || echo "OK: No serverUrl"

# SECURITY.md updated
grep -q "FastAPI server" SECURITY.md && echo "FAIL: FastAPI in SECURITY" || echo "OK: No FastAPI ref"
```
  </verify>
  <done>
- README.md has no Python badge, server diagram, or server setup step
- README-VSCODE.md has no serverUrl or server prerequisites
- CONTRIBUTING.md has no Python setup or server sections
- SECURITY.md scope only covers VS Code extension
  </done>
</task>

<task type="auto">
  <name>Task 2: Update CI/CD and GitHub templates</name>
  <files>
    - .github/workflows/ci.yml
    - .github/ISSUE_TEMPLATE/bug_report.md
    - .github/PULL_REQUEST_TEMPLATE.md
  </files>
  <action>
Update GitHub workflows and templates:

**.github/workflows/ci.yml** - Remove Python job:
1. Delete the entire `server-tests` job (lines 10-41)
2. Keep `extension-tests` and `build-extension` jobs unchanged
3. Result should have only two jobs: extension-tests and build-extension

Final structure:
```yaml
name: CI

on:
  push:
    branches: [master, main]
  pull_request:
    branches: [master, main]

jobs:
  extension-tests:
    # ... (keep as-is)

  build-extension:
    # ... (keep as-is)
```

**.github/ISSUE_TEMPLATE/bug_report.md**:
1. Remove "Python Version" from Environment section (line 34)
2. Replace Component checkboxes (lines 37-41) with just:
   ```markdown
   ## Component

   VS Code Extension
   ```
3. Remove "Server logs" details section (lines 45-52)

**.github/PULL_REQUEST_TEMPLATE.md**:
1. Replace Component checkboxes (lines 17-21) with:
   ```markdown
   ## Component

   - [ ] VS Code Extension (`sidekick-vscode/`)
   - [ ] Other (docs, CI, etc.)
   ```
   Remove the "Server" and "Both" options.
  </action>
  <verify>
```bash
# CI should not have server-tests
grep -q "server-tests" .github/workflows/ci.yml && echo "FAIL: server-tests in CI" || echo "OK: No server-tests"

# CI should still have extension-tests
grep -q "extension-tests" .github/workflows/ci.yml && echo "OK: extension-tests exists" || echo "FAIL: missing extension-tests"

# Bug report should not have Python
grep -q "Python Version" .github/ISSUE_TEMPLATE/bug_report.md && echo "FAIL: Python in bug report" || echo "OK: No Python"

# PR template should not have Server checkbox
grep -q "sidekick-server" .github/PULL_REQUEST_TEMPLATE.md && echo "FAIL: Server in PR template" || echo "OK: No server"

# Validate YAML syntax
python3 -c "import yaml; yaml.safe_load(open('.github/workflows/ci.yml'))" && echo "OK: Valid YAML"
```
  </verify>
  <done>
- CI/CD has no server-tests job
- CI/CD still has extension-tests and build-extension jobs
- Bug report template has no Python or Server options
- PR template has no Server option
- ci.yml is valid YAML
  </done>
</task>

</tasks>

<verification>
After both tasks complete:

1. Verify no server references in documentation:
   ```bash
   grep -r "sidekick-server\|start-server\|serverUrl" README.md README-VSCODE.md CONTRIBUTING.md SECURITY.md .github/
   # Should return nothing
   ```

2. Verify CI workflow is valid and simplified:
   ```bash
   # Count jobs - should be 2 (extension-tests, build-extension)
   grep -c "^\s\+\w\+-\w\+:" .github/workflows/ci.yml
   ```

3. Verify no Python references in CI:
   ```bash
   grep -q "python" .github/workflows/ci.yml && echo "FAIL" || echo "OK"
   ```
</verification>

<success_criteria>
- CLEAN-04: README shows new setup flow (no server to start)
- CLEAN-05: CI/CD pipeline has no Python-related steps
- All documentation consistently reflects TypeScript-only architecture
- GitHub templates simplified to extension-only
</success_criteria>

<output>
After completion, create `.planning/phases/04-cleanup/04-02-SUMMARY.md`
</output>
